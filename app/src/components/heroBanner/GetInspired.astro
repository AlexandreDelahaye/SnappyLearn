---
import inspirePlaceholder from "../../assets/placeholder.jpeg";
import inspired1 from "../../assets/inspired1.png";
import inspired2 from "../../assets/inspired2.png";
import inspired3 from "../../assets/inspired3.png";
import inspired4 from "../../assets/inspire4.png";

const images = [
  { src: inspired1.src, title: '"The difference between ordinary and extraordinary is that little extra." - Jimmy Johnson.' },
  { src: inspired2.src, title: '"Our greatest glory is not in never falling, but in rising every time we fall." - Confucius.' },
  { src: inspired3.src, title: '"The only way to do great work is to love what you do." - Steve Jobs.' },
  { src: inspired4.src, title: '"Success is not final, failure is not fatal: It is the courage to continue that counts." - Winston Churchill.' },
];
---

<style>
.get-inspired-banner {
    padding: 80px 96px 120px 96px;
    background: var(--M3-sys-dark-high-contrast-surface, #101510);
}

.get-inspired-banner > h2 {
    color: #fff;
    font-family: 'Roboto';
    padding: 0 106px;
    margin-bottom: 60px;
}

.get-inspired-banner-inner {
    display: flex;
    align-items: center;
}

.carousel-container {
  position: relative;
  width: 100%;
  overflow: hidden;
  /* max-width: 800px; */
  /* margin: auto; */
  /* padding: 80px 202px; */
}

.carousel-track {
  display: flex;
  transition: transform 0.3s ease;
}

.carousel-item {
  flex: 0 0 33.3333%;
  text-align: center;
  padding: 20px;
  box-sizing: border-box;
}

.carousel-item img {
  max-width: 100%;
  height: auto;
  display: block;
  margin: 0 auto;
  /* width: 360px; */
  /* height: 250px; */
}

.carousel-title {
  margin-top: 4px;
  font-size: 0.9rem;
  padding: 40px;
  text-align: left;
  color: var(--M3-sys-dark-high-contrast-on-surface, #FFF);

    /* M3/body/medium */
    font-family: var(--Static-Body-Medium-Font, Roboto);
    font-size: var(--Static-Body-Medium-Size, 14px);
    font-style: normal;
    font-weight: 400;
    line-height: var(--Static-Body-Medium-Line-Height, 20px); /* 142.857% */
    letter-spacing: var(--Static-Body-Medium-Tracking, 0.25px);
}

.arrow {
  /* position: absolute; */
  font-family: 'Roboto';
  /* top: 50%; */
  transform: translateY(-50%);
  background: #00000000;
  border: none;
  cursor: pointer;
  /* padding: 4px 8px; */
  font-size: 1.2rem;
  z-index: 1;
}

.arrow > svg {
    width: 40px;
    height: 40px;
    aspect-ratio: 1/1;
}

.arrow.left {
  left: 0;
}

.arrow.right {
  right: 0;
}
</style>

<input type="hidden" id="images_length" value={images.length} />

<script>
    let position = 0;
    const visibleCount = 3;
    const imagesLength = parseInt(document.getElementById("images_length").value);
    const track = document.getElementById('carousel-track');
    
    function moveCarousel(direction: any) {
        const maxPosition = imagesLength - visibleCount;

        position += direction;
        if (position > maxPosition) {
            position = 0; // Loop back to start
        } else if (position < 0) {
            position = maxPosition; // Loop to end
        }

        track.style.transform = `translateX(-${position * (100 / visibleCount)}%)`;
    }

    document.querySelector(".arrow.left")?.addEventListener("click", () => moveCarousel(-1));
    document.querySelector(".arrow.right")?.addEventListener("click", () => moveCarousel(1));
</script>

<div class="get-inspired-banner">
    <h2>GET INSPIRED</h2>
    <div class="get-inspired-banner-inner">
        <button class="arrow left">
            <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40" fill="none">
                <mask id="mask0_59911_64858" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="40" height="40">
                <rect width="40" height="40" fill="#D9D9D9"/>
                </mask>
                <g mask="url(#mask0_59911_64858)">
                <path d="M16.6667 36.6666L0 19.9999L16.6667 3.33325L19.625 6.29159L5.91667 19.9999L19.625 33.7083L16.6667 36.6666Z" fill="white"/>
                </g>
            </svg>
        </button>
        <div class="carousel-container">
            <div class="carousel-track" id="carousel-track">
                {images.map(image => (
                <div class="carousel-item">
                    <img src={image.src} alt={image.title} />
                    <div class="carousel-title">{image.title}</div>
                </div>
                ))}
            </div>
        </div>
        <button class="arrow right">
            <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40" fill="none">
                <mask id="mask0_59911_64876" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="40" height="40">
                <rect width="40" height="40" fill="#D9D9D9"/>
                </mask>
                <g mask="url(#mask0_59911_64876)">
                <path d="M13.375 36.6666L10.4167 33.7083L24.125 19.9999L10.4167 6.29159L13.375 3.33325L30.0417 19.9999L13.375 36.6666Z" fill="white"/>
                </g>
            </svg>
        </button>
    </div>
</div>